name: GitHub to Discord Bot

on:
  push:
  pull_request:
    types: [opened, edited, closed, reopened, synchronize]
  issues:
    types: [opened, edited, closed, reopened]
  issue_comment:
    types: [created]

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Send Discord message
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
        run: |
          # Determine event name and actor
          EVENT_NAME="${{ github.event_name }}"
          ACTOR="${{ github.actor }}"

          # Prepare message
          MESSAGE="ðŸ”” GitHub event: ${EVENT_NAME} triggered by ${ACTOR}"

          # Send to Discord
          curl -H "Content-Type: application/json" \
               -X POST \
               -d "{\"content\": \"${MESSAGE}\"}" \
               "$DISCORD_WEBHOOK_URL"
